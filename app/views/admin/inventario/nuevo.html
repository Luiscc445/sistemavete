{% extends "layouts/admin_base.html" %}
{% block title %}Nuevo Medicamento{% endblock %}

{% block page_title %}
<div class="page-header-modern">
    <div class="page-header-content">
        <div class="page-header-icon">
            <i class="bi bi-plus-circle-fill"></i>
        </div>
        <div class="page-header-text">
            <h1 class="page-header-title-modern">Nuevo Medicamento</h1>
            <p class="page-header-subtitle-modern">Registrar un nuevo producto en el inventario</p>
        </div>
    </div>
    <div class="page-header-actions">
        <a href="{{ url_for('inventario.lista') }}" class="btn btn-secondary-modern">
            <i class="bi bi-arrow-left me-1"></i> Volver
        </a>
    </div>
</div>
{% endblock %}

{% block breadcrumb %}
<!-- Breadcrumb hidden in modern view -->
{% endblock %}

{% block content %}
<div class="card modern-activity-card">
    <div class="card-header">
        <h5 class="mb-0 text-secondary"><i class="bi bi-pencil-square me-2"></i>Formulario de Registro</h5>
    </div>
    <div class="card-body">
        <form method="POST">
            <h6 class="text-uppercase text-muted small fw-bold mb-3 border-bottom pb-2">Información Básica</h6>
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label class="form-label small fw-bold text-muted" for="codigo">Código</label>
                    <div class="input-group">
                        <span class="input-group-text bg-light border-end-0"><i
                                class="bi bi-upc-scan text-muted"></i></span>
                        <input type="text" class="form-control border-start-0 ps-0" id="codigo" name="codigo"
                            placeholder="Opcional">
                    </div>
                </div>
                <div class="col-md-6 mb-3">
                    <label class="form-label small fw-bold text-muted" for="nombre">Nombre *</label>
                    <input type="text" class="form-control" id="nombre" name="nombre" required>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4 mb-3">
                    <label class="form-label small fw-bold text-muted" for="principio_activo">Principio Activo</label>
                    <input type="text" class="form-control" id="principio_activo" name="principio_activo">
                </div>
                <div class="col-md-4 mb-3">
                    <label class="form-label small fw-bold text-muted" for="presentacion">Presentación</label>
                    <input type="text" class="form-control" id="presentacion" name="presentacion"
                        placeholder="Tabletas, Jarabe, etc.">
                </div>
                <div class="col-md-4 mb-3">
                    <label class="form-label small fw-bold text-muted" for="concentracion">Concentración</label>
                    <input type="text" class="form-control" id="concentracion" name="concentracion"
                        placeholder="500mg, 10ml, etc.">
                </div>
            </div>
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label class="form-label small fw-bold text-muted" for="categoria">Categoría</label>
                    <select class="form-select" id="categoria" name="categoria">
                        <option value="">Seleccione...</option>
                        <option value="antibiotico">Antibiótico</option>
                        <option value="analgesico">Analgésico</option>
                        <option value="antiinflamatorio">Antiinflamatorio</option>
                        <option value="vacuna">Vacuna</option>
                        <option value="antiparasitario">Antiparasitario</option>
                        <option value="vitamina">Vitamina</option>
                        <option value="suplemento">Suplemento</option>
                        <option value="otro">Otro</option>
                    </select>
                </div>
                <div class="col-md-6 mb-3">
                    <label class="form-label small fw-bold text-muted" for="via_administracion">Vía de
                        Administración</label>
                    <select class="form-select" id="via_administracion" name="via_administracion">
                        <option value="">Seleccione...</option>
                        <option value="oral">Oral</option>
                        <option value="inyectable">Inyectable</option>
                        <option value="topico">Tópico</option>
                        <option value="oftalmico">Oftálmico</option>
                        <option value="otico">Ótico</option>
                    </select>
                </div>
            </div>

            <h6 class="text-uppercase text-muted small fw-bold mb-3 border-bottom pb-2 mt-4">Stock y Precios</h6>
            <div class="row">
                <div class="col-md-3 mb-3">
                    <label class="form-label small fw-bold text-muted" for="stock_actual">Stock Inicial</label>
                    <input type="number" class="form-control" id="stock_actual" name="stock_actual" value="0" min="0">
                </div>
                <div class="col-md-3 mb-3">
                    <label class="form-label small fw-bold text-muted" for="stock_minimo">Stock Mínimo</label>
                    <input type="number" class="form-control" id="stock_minimo" name="stock_minimo" value="5" min="0">
                </div>
                <div class="col-md-2 mb-3">
                    <label class="form-label small fw-bold text-muted" for="unidad_medida">Unidad</label>
                    <input type="text" class="form-control" id="unidad_medida" name="unidad_medida" value="unid">
                </div>
                <div class="col-md-2 mb-3">
                    <label class="form-label small fw-bold text-muted" for="precio_compra">Precio Compra (Bs.)</label>
                    <div class="input-group">
                        <span class="input-group-text bg-light border-end-0">Bs</span>
                        <input type="number" class="form-control border-start-0 ps-1" id="precio_compra"
                            name="precio_compra" step="0.01" min="0">
                    </div>
                </div>
                <div class="col-md-2 mb-3">
                    <label class="form-label small fw-bold text-muted" for="precio_venta">Precio Venta (Bs.)</label>
                    <div class="input-group">
                        <span class="input-group-text bg-light border-end-0">Bs</span>
                        <input type="number" class="form-control border-start-0 ps-1" id="precio_venta"
                            name="precio_venta" step="0.01" min="0">
                    </div>
                </div>
            </div>

            <h6 class="text-uppercase text-muted small fw-bold mb-3 border-bottom pb-2 mt-4">Información Adicional</h6>
            <div class="row">
                <div class="col-md-4 mb-3">
                    <label class="form-label small fw-bold text-muted" for="laboratorio">Laboratorio</label>
                    <input type="text" class="form-control" id="laboratorio" name="laboratorio">
                </div>
                <div class="col-md-4 mb-3">
                    <label class="form-label small fw-bold text-muted" for="lote">Lote</label>
                    <input type="text" class="form-control" id="lote" name="lote">
                </div>
                <div class="col-md-4 mb-3">
                    <label class="form-label small fw-bold text-muted" for="fecha_vencimiento">Fecha de
                        Vencimiento</label>
                    <input type="date" class="form-control" id="fecha_vencimiento" name="fecha_vencimiento">
                </div>
            </div>
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label class="form-label small fw-bold text-muted" for="ubicacion_almacen">Ubicación en
                        Almacén</label>
                    <div class="input-group">
                        <span class="input-group-text bg-light border-end-0"><i
                                class="bi bi-geo-alt text-muted"></i></span>
                        <input type="text" class="form-control border-start-0 ps-0" id="ubicacion_almacen"
                            name="ubicacion_almacen" placeholder="Ej: Estante A, Nivel 2">
                    </div>
                </div>
                <div class="col-md-6 mb-3">
                    <div class="d-flex gap-4 mt-4 pt-2">
                        <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" id="requiere_receta" name="requiere_receta">
                            <label class="form-check-label small fw-bold text-muted" for="requiere_receta">Requiere
                                Receta</label>
                        </div>
                        <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" id="controlado" name="controlado">
                            <label class="form-check-label small fw-bold text-muted" for="controlado">Medicamento
                                Controlado</label>
                        </div>
                    </div>
                    {% endblock %}