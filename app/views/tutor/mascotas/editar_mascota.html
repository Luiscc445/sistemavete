{% extends "dashboards/tutor_base.html" %}
{% block title %}Editar Mascota{% endblock %}

{% block content %}
<div class="container pb-5">
    <!-- Header -->
    <div class="text-center mb-5 animate-fade-up">
        <h2 class="fw-bold mb-2">Editar Mascota</h2>
        <p class="text-muted">Actualiza la información de {{ mascota.nombre }}</p>
    </div>

    <div class="row justify-content-center">
        <div class="col-lg-8 animate-fade-up delay-100">
            <form method="POST" class="needs-validation" novalidate>
                <!-- Basic Info -->
                <div class="card-modern mb-4">
                    <div class="card-header-modern bg-soft-primary">
                        <div class="d-flex align-items-center gap-3">
                            <div class="rounded-circle bg-white p-2 shadow-sm text-primary">
                                <i class="bi bi-info-circle-fill fs-5"></i>
                            </div>
                            <h5 class="fw-bold mb-0">Información Básica</h5>
                        </div>
                    </div>
                    <div class="card-body-modern">
                        <div class="row g-4">
                            <div class="col-md-6">
                                <label class="form-label fw-semibold">Nombre <span class="text-danger">*</span></label>
                                <input type="text" class="form-control form-control-lg border-2" name="nombre" required
                                    value="{{ mascota.nombre }}">
                            </div>
                            <div class="col-md-6">
                                <label class="form-label fw-semibold">Especie <span class="text-danger">*</span></label>
                                <select class="form-select form-select-lg border-2" name="especie" required>
                                    <option value="">Seleccione...</option>
                                    <option value="Perro" {% if mascota.especie=='Perro' %}selected{% endif %}>🐕 Perro
                                    </option>
                                    <option value="Gato" {% if mascota.especie=='Gato' %}selected{% endif %}>🐈 Gato
                                    </option>
                                    <option value="Ave" {% if mascota.especie=='Ave' %}selected{% endif %}>🦜 Ave
                                    </option>
                                    <option value="Conejo" {% if mascota.especie=='Conejo' %}selected{% endif %}>🐰
                                        Conejo</option>
                                    <option value="Hamster" {% if mascota.especie=='Hamster' %}selected{% endif %}>🐹
                                        Hamster</option>
                                    <option value="Reptil" {% if mascota.especie=='Reptil' %}selected{% endif %}>🦎
                                        Reptil</option>
                                    <option value="Otro" {% if mascota.especie=='Otro' %}selected{% endif %}>🐾 Otro
                                    </option>
                                </select>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label fw-semibold">Raza</label>
                                <input type="text" class="form-control form-control-lg border-2" name="raza"
                                    value="{{ mascota.raza or '' }}">
                            </div>
                            <div class="col-md-6">
                                <label class="form-label fw-semibold">Sexo</label>
                                <select class="form-select form-select-lg border-2" name="sexo">
                                    <option value="">Seleccione...</option>
                                    <option value="Macho" {% if mascota.sexo=='Macho' %}selected{% endif %}>Macho
                                    </option>
                                    <option value="Hembra" {% if mascota.sexo=='Hembra' %}selected{% endif %}>Hembra
                                    </option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Physical Details -->
                <div class="card-modern mb-4">
                    <div class="card-header-modern bg-soft-success">
                        <div class="d-flex align-items-center gap-3">
                            <div class="rounded-circle bg-white p-2 shadow-sm text-success">
                                <i class="bi bi-rulers fs-5"></i>
                            </div>
                            <h5 class="fw-bold mb-0">Detalles Físicos</h5>
                        </div>
                    </div>
                    <div class="card-body-modern">
                        <div class="row g-4">
                            <div class="col-md-4">
                                <label class="form-label fw-semibold">Fecha Nacimiento</label>
                                <input type="date" class="form-control form-control-lg border-2" name="fecha_nacimiento"
                                    value="{{ mascota.fecha_nacimiento.strftime('%Y-%m-%d') if mascota.fecha_nacimiento else '' }}">
                            </div>
                            <div class="col-md-4">
                                <label class="form-label fw-semibold">Color</label>
                                <input type="text" class="form-control form-control-lg border-2" name="color"
                                    value="{{ mascota.color or '' }}">
                            </div>
                            <div class="col-md-4">
                                <label class="form-label fw-semibold">Peso (kg)</label>
                                <input type="number" step="0.1" class="form-control form-control-lg border-2"
                                    name="peso" value="{{ mascota.peso or '' }}">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Additional Info -->
                <div class="card-modern mb-5">
                    <div class="card-header-modern bg-soft-warning">
                        <div class="d-flex align-items-center gap-3">
                            <div class="rounded-circle bg-white p-2 shadow-sm text-warning">
                                <i class="bi bi-clipboard-data fs-5"></i>
                            </div>
                            <h5 class="fw-bold mb-0">Información Adicional</h5>
                        </div>
                    </div>
                    <div class="card-body-modern">
                        <div class="row g-4">
                            <div class="col-md-6">
                                <label class="form-label fw-semibold">Chip ID</label>
                                <input type="text" class="form-control form-control-lg border-2" name="chip"
                                    value="{{ mascota.chip_identificacion or '' }}">
                            </div>
                            <div class="col-md-6 d-flex align-items-center">
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" name="esterilizado"
                                        id="esterilizado" {% if mascota.esterilizado %}checked{% endif %}>
                                    <label class="form-check-label fw-medium" for="esterilizado">¿Está
                                        esterilizado?</label>
                                </div>
                            </div>
                            <div class="col-12">
                                <label class="form-label fw-semibold">Notas de Comportamiento / Médicas</label>
                                <textarea class="form-control border-2" name="observaciones"
                                    rows="3">{{ mascota.notas_comportamiento or '' }}</textarea>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Actions -->
                <div class="d-flex gap-3 justify-content-end">
                    <a href="{{ url_for('tutor.ver_mascota', id=mascota.id) }}"
                        class="btn btn-light btn-lg rounded-pill px-4">Cancelar</a>
                    <button type="submit" class="btn btn-primary btn-lg rounded-pill px-5 shadow-lg">
                        Guardar Cambios
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}

